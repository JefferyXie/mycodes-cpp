#
# Config file defines common variables, downstream may override if needed
# 

# variables
EXE = main_exe
#CPP_FILES = main.cpp sizeofClass.cpp
CPP_FILES = $(wildcard   ./*.cpp)
OBJ_FILES = $(CPP_FILES:%.cpp=%.o)

# not yet used variables
H_FILES = *.h # header.h utility.h node.h 
LIB_DIR = ./lib 
SRC_DIR = ./ 

# typically when using external lib, you need -I for included files, -L for *.a, *.so path, and -l for lib name;
# g++ -I/your/path/include -L/your/path/lib -l{lib_name} ...
#
# we don't need this since the libs are available under /usr/local/lib, header files are under /usr/local/include
# i.e. /usr/local/lib/libboost_xxx, /usr/local/lib/libgtest.xxx
#      /usr/local/include/boost, /usr/local/include/googletest, /usr/local/include/tinyxml.h
BOOST_ROOT = /usr/local/Cellar/boost/1.86.0
BOOST_INC  = $(BOOST_ROOT)/include

# compiler settings
CC = g++
C11 = -std=c++11
C14 = -std=c++14
C17 = -std=c++17
C20 = -std=c++2a
#CFLAGS = -Wall -W -lpthread $(C11)
CFLAGS = $(C11) -v -w -I$(BOOST_ROOT) -L/usr/local/lib -lgtest -lgtest_main -lpthread -lssl -lcrypto -lcurl -pedantic # disable warning
CFLAGS = $(C20) -w -L/usr/local/lib -lgtest -lgtest_main -lbenchmark -lpthread -lssl -lcrypto -lcurl -pedantic -ltinyxml # disable warning
CFLAGS_DEBUG = -g $(CFLAGS)
#CFLAGS_DEBUG = $(CFLAGS) -O3


# To print variable - 
# http://stackoverflow.com/questions/16467718/how-to-print-out-a-variable-in-makefile
# make print-VARIABLE
# and it will return:
# VARIABLE = the_value_of_the_variable
print-%  : ; @echo $* = $($*)

#make print-EXE print-CPP_FILES print-OBJ_FILES print-H_FILES print-CFLAGS_DEBUG print-subdirs
#print-all-vars : ; @echo EXE=$(EXE); \
	echo CPP_FILES=$(CPP_FILES); \
	echo OBJ_FILES=$(OBJ_FILES); \
	echo H_FILES=$(H_FILES); \
	echo CFLAGS_DEBUG=$(CFLAGS_DEBUG); \
	echo subdirs=$(subdirs);

